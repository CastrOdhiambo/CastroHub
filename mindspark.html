<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MindSpark TV | CastroHub</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet"/>
  <style>
    body { font-family: 'Inter', sans-serif; margin: 0; background: #f4f6f9; }
    header { background: linear-gradient(90deg,#ff5722,#ff9800); padding:20px; text-align:center; color:white; }
    nav ul { list-style:none; display:flex; justify-content:center; gap:25px; padding:0; margin:10px 0 0; }
    nav a { color:white; text-decoration:none; font-weight:600; }
    nav a:hover { text-decoration:underline; }
    .container { max-width:1200px; margin:20px auto; padding:20px; }
    .player { text-align:center; margin-bottom:30px; }
    .player iframe { width:100%; max-width:800px; height:450px; border-radius:12px; border:none; box-shadow:0 3px 8px rgba(0,0,0,0.2); }
    h2 { margin:20px 0; color:#333; }
    .search-bar { margin:20px 0; text-align:center; }
    .search-bar input { width:70%; padding:10px; border-radius:8px; border:1px solid #ccc; }
    .videos { display:grid; grid-template-columns:repeat(auto-fit,minmax(250px,1fr)); gap:20px; }
    .card { background:white; border-radius:12px; padding:15px; box-shadow:0 2px 6px rgba(0,0,0,0.1); cursor:pointer; transition:transform 0.2s; }
    .card:hover { transform:translateY(-5px); }
    .card img { width:100%; border-radius:8px; margin-bottom:10px; }
    footer { text-align:center; padding:20px; margin-top:40px; font-size:0.9rem; color:#777; background:#f1f1f1; }
  </style>
</head>
<body>

<header>
  <h2>📺 MindSpark TV on CastroHub</h2>
  <nav>
    <ul>
      <li><a href="index.html">🏠 Home</a></li>
      <li><a href="about.html">👤 About</a></li>
      <li><a href="news.html">📰 News</a></li>
      <li><a href="entertainment.html">🎬 Entertainment</a></li>
      <li><a href="education.html">📚 Education</a></li>
      <li><a href="projects.html">💼 Projects</a></li>
      <li><a href="mindspark.html">📺 MindSpark TV</a></li>
      <li><a href="contact.html">✉️ Contact</a></li>
    </ul>
  </nav>
</header>

<div class="container">
  <!-- Featured Player -->
  <div class="player" id="video-player">
    <iframe src="" allowfullscreen></iframe>
    <h3 id="video-title"></h3>
    <p id="video-description"></p>
  </div>

  <!-- Search -->
  <div class="search-bar">
    <input type="text" id="search" placeholder="🔍 Search videos by title...">
  </div>

  <!-- Video Sections -->
  <div id="video-sections"></div>
</div>

<footer>
  &copy; 2025 CastroHub | Powered by MindSpark TV
</footer>

<script>
  async function loadMindspark() {
    const res = await fetch("mindspark.json");
    const data = await res.json();

    // Load featured video
    const player = document.querySelector("#video-player iframe");
    document.getElementById("video-title").innerText = data.featured.title;
    document.getElementById("video-description").innerText = data.featured.description;
    player.src = data.featured.videoUrl;

    // Render categories
    const sections = document.getElementById("video-sections");
    data.categories.forEach(category => {
      const section = document.createElement("div");
      section.innerHTML = `<h2>${category.name}</h2><div class="videos"></div>`;
      const videoGrid = section.querySelector(".videos");

      category.videos.forEach(video => {
        const card = document.createElement("div");
        card.classList.add("card");
        card.innerHTML = `
          <img src="${video.thumbnail}" alt="${video.title}">
          <h4>${video.title}</h4>
        `;
        card.addEventListener("click", () => {
          player.src = video.videoUrl;
          document.getElementById("video-title").innerText = video.title;
          document.getElementById("video-description").innerText = category.name;
          window.scrollTo({ top: 0, behavior: "smooth" });
        });
        videoGrid.appendChild(card);
      });

      sections.appendChild(section);
    });

    // Search functionality
    document.getElementById("search").addEventListener("input", e => {
      const term = e.target.value.toLowerCase();
      document.querySelectorAll(".card").forEach(card => {
        const title = card.querySelector("h4").innerText.toLowerCase();
        card.style.display = title.includes(term) ? "block" : "none";
      });
    });
  }

  loadMindspark();
</script>

</body>
</html>
